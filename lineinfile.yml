- name: Block in file test
  hosts: all
  tasks:
    
    - name: Block in file add
      lineinfile:
        path: /var/lib/awx/projects/{{ item }}.txt
        insertbefore: BOF
        firstmatch: yes
        create: yes
        line: '{{ inventory_hostname }}\n{{ ansible_date_time.date }}\n{{ item }}'
      loop:
        - passwd
        - login.defs
        - sudoers